# Role
你是一个资深的 Go 语言后端工程师，擅长编写高性能、简洁的代码。

# Tech Stack
- Language: Go (Golang) 1.23.1
- Framework: Wails (for GUI)
- 后端代码实现空接口，前端代码完整实现，前后端通过空接口进行通信。

# Coding Style
- 遵循 "Effective Go" 和 Google Go Style Guide。
- 错误处理：总是检查 error, 不要忽略它。使用 error 包装错误以提供上下文。
- 模块化：保持 package 小而专注。
- 注释：关键导出函数必须有注释（英文）。

# Constraints
- 优先使用标准库，除非必须才引入第三方库。
- 核心代码必须包含单元测试。

# Project Structure
- 使用 Go Module 管理依赖。
- 项目结构遵循 "Go 项目结构最佳实践"。

# Testing
- 使用 Go 内置的 testing 包编写单元测试。
- 测试文件名必须以 _test.go 结尾。
- 测试函数必须以 Test 开头。
- 测试函数必须接受 *testing.T 参数。

# Actions
- 完成代码请保存
- 完成代码不需要提交代码
- 完成代码不需要提示code review

# Struct Define
- 前后端分离模式下，目录结构为

# 核心功能点：
- 单元格编辑：双击单元格进入编辑状态。
- 虚拟化：处理大量数据时保持流畅。
- 筛选与排序：用户可以对数据进行快速筛选和排序。
- 分页：分批加载数据，而不是一次性加载所有。
- 数据操作：提交修改、导出数据。

#  前端要求
1. 整体视觉风格 (Visual Identity)
设计风格： Semi-Ant-Design / Modern Minimalist。采用中性灰作为背景，主色调建议使用“科技蓝”（#1677ff），在 PostgreSQL 下可微调为“大象紫”，MySQL 下微调为“海豚蓝”。

字体： 优先使用系统等宽字体（JetBrains Mono 或 Fira Code）处理 SQL 和数据展示。

交互逻辑： 大量使用右键菜单和快捷键，减少 UI 元素的堆砌。

2. 界面细化设计方案
界面 A：主工作区布局 (Layout)
采用 左固定、中自适应、底状态栏 的三栏布局。

左侧 (Sidebar)： 宽度 240px-300px，可拖拽调节。

顶部：连接搜索框 + “新建连接”按钮。

中部：树形组件（Tree）。连接状态用小绿点标出。

中间 (Main Stage)： 标签页（Tabs）设计，支持拖拽排序。

每个标签页包含：SQL 编辑器（上 60%） + 结果显示区（下 40%）。

底部 (Status Bar)： * 左侧：当前连接信息（Host/Port/User）。

右侧：查询耗时、受影响行数、当前编辑器行号。

界面 B：连接管理器 (Connection Manager)
这是用户的第一入口，需兼具美观与专业。

左侧列表： 展示已保存的连接快照。

右侧配置表单： * 类型选择： 采用图标卡片（Card）选择 MySQL, PostgreSQL, SQLite。

基础配置： 主机、端口、用户名、密码（支持明文切换）。

高级设置： SSH 隧道（关键功能）、SSL/TLS 设置。

底部动作： “测试连接”（带 Loading 动画）和 “确定并连接”。

界面 C：智能 SQL 控制台 (Query Console)
编辑器区： 集成 Monaco Editor，开启代码折叠、行号显示、Mini-map。

交互优化： 选中文段落后按下 Ctrl+Enter 仅执行选中部分。

执行工具条： 紧贴编辑器下方。

按钮组：执行（绿色）、停止（红色）、格式化（Beautify）、保存脚本。

界面 D：数据网格 (Data Grid)
这是处理数据的核心。

虚拟滚动： 确保渲染 10w+ 数据不卡顿。

功能点：

单元格编辑： 双击进入编辑态，修改后的单元格背景变黄，直到点击“提交事务”。

快捷筛选： 表头带 Filter 图标，支持“包含”、“等于”、“不为空”等快速过滤。

导出按钮： 下拉菜单支持 CSV, JSON, SQL Insert 语句。


3. 关键交互流程设计 (UX Flow)
3.1 创建连接流程
点击左侧 + -> 弹出模态框。

选择数据库类型图标 -> 表单平滑切换动画。

输入信息 -> 点击“测试连接” -> Go 后端返回 Ping 结果 -> 前端展示“Success”绿色气泡。

确认后，侧边栏树形组件自动刷新。

3.2 结构化数据查看
双击左侧树中的“表名” -> 自动开启新标签页。

先加载表结构（Metadata），再加载前 100 条数据。

用户滚动到底部时，触发“加载更多”请求（或自动分页）。

4. 技术实现建议 (前端架构)

4.1 核心组件选型功能模块推荐组件库/方案理由

基础 UINaive UI (Vue3)设计感强，原生支持 TypeScript，按需加载性能极佳。
SQL 编辑器Monaco Editor与 VS Code 体验一致，生态最丰富。
高性能表格vxe-table专门为大数据量设计，支持复杂的单元格编辑和树形结构。
图标库Lucide Icons线条简洁，现代感十足。

4.2 Wails 适配

窗口控制： 在前端自定义标题栏（Titlebar），通过 runtime.WindowDrag() 实现窗口拖拽，让界面看起来更像一个整体，而非网页。
提示信息： 耗时操作（如导出大型 SQL）使用前端 Notification 组件，并监听 Go 传回的进度事件。

# 必要的库
- npm install @tanstack/react-table @tanstack/react-table-devtools

# 

── app.go
├── build
│   ├── appicon.png
│   ├── bin
│   ├── darwin
│   ├── README.md
│   └── windows
├── docs
│   ├── 01
│   ├── 02
│   ├── 03
│   └── 04
├── frontend
│   ├── dist
│   ├── index.html
│   ├── node_modules
│   ├── package.json
│   ├── package.json.md5
│   ├── package-lock.json
│   ├── src
│   ├── tsconfig.json
│   ├── tsconfig.node.json
│   ├── vite.config.ts
│   └── wailsjs
├── go.mod
├── go.sum
├── main.go
├── Makefile
├── README.md
├── release.md
├── wails.json
└── wails.md
